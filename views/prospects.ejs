<%- include ('partials/header') -%>

<div class="container" style="margin-top: 100px;">
<!--<header class="jumbotron">
    <div class = "container">
            <p>The Virtual Excelist prospect database</p>
            <p>
            <% if(!currentUser){ %>
                <a class = "btn btn-primary btn-lg" href="/login3">Login</a>
            <% } else { %>
                <a class = "btn btn-primary btn-lg" href="/">Return to Main</a>
                <a class = "btn btn-primary btn-lg" href="/prospects/new">Add a New Prospect</a>
                <a class = "btn btn-secondary btn-lg" href="/logout">Logout</a>   
            <% } %>
            </p>
    </div>
</header>-->

<!--<body>-->
<div style="margin: 25px auto;">
    <div class = "row" style="margin-top: 125px;">
        <div class="col-sm-3"></div>
        <div class="col-md-6">
            <h3 style="text-align: center;">Current Prospects</h3>
        </div>
        <div class="col-sm-3">
            <a class="btn btn-lg btn-default btn-block btn-return" href="/"><i class="fas fa-arrow-left"></i> Back</a>
        </div>
    </div>
</div>
    
    <div class="container tbl-container">
        
        <div class = "row tbl-mobile">
            <table class="table table-dark table-striped table-bordered">
                <tr>
                    <th class="firstname">First Name</th>
                    <th class="lastname">Last Name</th>
                    <th class="emailaddress">Email Address</th>
                    <th class="options">Options</th>
                </tr>
                
                <% prospects.forEach(function(prospects) { %>
                    <div class="prospect-data">
                        <tr>
                            <td><%= prospects.firstName %></td>
                            <td><%= prospects.lastName %></td>
                            <td><%= prospects.emailAddress %></td>
                            <!--<td><a href="/prospects/<%= prospects._id %>" class="btn btn-sm btn-primary">More</a></td>-->
                            <td style="text-align:center;"> 
                                <a href="/prospects/<%= prospects._id %>">Details</a> |
                                <a href="/prospects/<%= prospects._id %>/edit">Edit</a>
                            </td>
                        </tr>
                    </div>
                <% }); %>
            </table>
        </div>
    </div>
    
                        <!-- Modal HTML -->
<div id="myModal" class="modal fade">
	<div class="modal-dialog modal-confirm">
		<div class="modal-content">
			<div class="modal-header">
				<div class="icon-box">
					<i class="material-icons">&#xE5CD;</i>
				</div>				
					
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
			</div>
			<div class="modal-sub"><h4 class="modal-title">Are you sure?</h4></div>
			<div class="modal-body">
				<p>Do you really want to delete this record? This process cannot be undone.</p>
			</div>
			<div class="modal-footer">
				<form action="/prospects/<%= prospects._id %>?_method=DELETE" method="POST">
                    <button type="submit" class="btn btn-danger">Delete</button>
                    <button type="button" class="btn btn-info" data-dismiss="modal">Cancel</button>
                </form>
			</div>
		</div>
	</div>
</div>   
    
<!--</body>-->

<script>
var coll = document.getElementsById("btn");
var i;

for (i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = document.getElementById("more");
    if (content.style.maxHeight){
      content.style.maxHeight = null;
    } else {
      content.style.maxHeight = content.scrollHeight + "px";
    } 
  });
}
</script>

<%- include ('partials/footer') -%>